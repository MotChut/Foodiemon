[gd_scene load_steps=5 format=3 uid="uid://6sh277sh87vu"]

[ext_resource type="Script" path="res://Scenes/Entities/Entity.cs" id="1_ja4sq"]
[ext_resource type="AudioStream" uid="uid://c2ed3lgyeop1n" path="res://Assets/Audio/Hit.wav" id="2_ohayl"]

[sub_resource type="ViewportTexture" id="ViewportTexture_v2j0t"]
viewport_path = NodePath("InteractiveNotice/SubViewport")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_aph5s"]
bg_color = Color(0.611765, 0.235294, 0.2, 1)
corner_radius_top_left = 8
corner_radius_top_right = 8
corner_radius_bottom_right = 8
corner_radius_bottom_left = 8

[node name="Entity" type="CharacterBody3D"]
collision_layer = 4
script = ExtResource("1_ja4sq")
hitSound = ExtResource("2_ohayl")

[node name="Raycasts" type="Node3D" parent="."]

[node name="Trackers" type="Node3D" parent="."]

[node name="Self" type="Area3D" parent="Trackers"]
collision_layer = 0
collision_mask = 8

[node name="CollisionShape3D" type="CollisionShape3D" parent="Trackers/Self"]

[node name="Vision" type="Area3D" parent="Trackers"]
collision_layer = 0
collision_mask = 10

[node name="CollisionShape3D" type="CollisionShape3D" parent="Trackers/Vision"]

[node name="Dangersense" type="Area3D" parent="Trackers"]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="Trackers/Dangersense"]

[node name="AttackArea" type="Area3D" parent="Trackers"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0.5, 0)
collision_layer = 0
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="Trackers/AttackArea"]

[node name="Timers" type="Node3D" parent="."]

[node name="ExploreTimer" type="Timer" parent="Timers"]
wait_time = 5.0
one_shot = true

[node name="InvincibleTimer" type="Timer" parent="Timers"]
wait_time = 0.5
one_shot = true

[node name="KnockbackTimer" type="Timer" parent="Timers"]
wait_time = 0.25
one_shot = true

[node name="ScaredTimer" type="Timer" parent="Timers"]
wait_time = 10.0
one_shot = true

[node name="HuntTimer" type="Timer" parent="Timers"]
wait_time = 5.0
one_shot = true

[node name="GiveupTimer" type="Timer" parent="Timers"]
wait_time = 5.0
one_shot = true

[node name="CarryPoint" type="Marker3D" parent="."]

[node name="InteractiveNotice" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.137115, 0.418945, -0.126831)
billboard = 1
texture = SubResource("ViewportTexture_v2j0t")

[node name="SubViewport" type="SubViewport" parent="InteractiveNotice"]
transparent_bg = true
size = Vector2i(640, 288)

[node name="HealthBar" type="ProgressBar" parent="InteractiveNotice/SubViewport"]
custom_minimum_size = Vector2(120, 12)
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -48.0
offset_top = 32.0
offset_right = 72.0
offset_bottom = 44.0
grow_horizontal = 2
theme_override_styles/fill = SubResource("StyleBoxFlat_aph5s")
value = 100.0
show_percentage = false

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("2_ohayl")
